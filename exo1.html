<html>
    <head>
        <title>DOM</title>
        <style>
            .modif{
                background-color: red;
            }
            .newTr{ 
                background-color: green;
            }
        </style>
    </head>
    <body>
        <h2 id="titre" align="center">Manipulation du DOM</h2>
        
       <div id="myDiv"></div>


        <input type="button" value="créer h2" onclick="createh2()"/>



        <table id="t1" border="1" align="center">
            <tr><th >ID</th><th>Nom du module</th><th>Volume horaire</th></tr>
            <tr id="tr1"><td>1</td><td>HTML</td><td>8</td></tr>
            <tr id="tr2"><td>2</td><td>CSS</td><td>7</td></tr>
            <tr id="tr3"><td>3</td><td>Javascript</td><td>16</td></tr>
            <tr id="tr4"><td>4</td><td>PHP</td><td>13</td></tr>
            <tr id="tr5"><td>5</td><td>Projet</td><td>3</td></tr>
        </table>

        <br/><br/>
        <form>

           <table border="1" align="center" name="myform">
               <tr><td>ID Module</td><td><input type="text" id="idCours"/></td></tr>
               <tr><td>Nom Module</td><td><input type="text" id="nomCours"/></td></tr>
               <tr><td>VH du Module</td><td><input type="text" id="vhCours"/></td></tr>
               <tr>
                   <td><input type="button" value="Ajouter" onclick="addRow()"/></td>
                   <td><input type="button" value="Modifier" onclick="modifRow()"/></td>
               </tr>
           </table> 

        </form>


        <script>
            function addRow(){
            // étap1 : récupère les data des input
              var index =document.getElementById("idCours").value;
              var titre =document.getElementById("nomCours").value;
              var vh =document.getElementById("vhCours").value;
            // étap2 : création des élements
              var newTr = document.createElement("tr");
              var newTd1 = document.createElement("td");
              var newTd2 = document.createElement("td");
              var newTd3 = document.createElement("td");
            // étape 3 : creation des texts et ajout au parent direct
              var textId = document.createTextNode(index);
              newTd1.appendChild(textId);
              var textTitre = document.createTextNode(titre);
              newTd2.appendChild(textTitre);
              var textVh = document.createTextNode(vh);
              newTd3.appendChild(textVh);
            // étape 4 : ajout des nouveaux td à la nouvelle tr
              
              newTr.appendChild(newTd1);
              newTr.appendChild(newTd2);
              newTr.appendChild(newTd3);
            // étape 5 : ajour de la nouvelle tr à la fin du tableau
              var tab1 = document.getElementById("t1");
              tab1.appendChild( newTr);
            // étape 6 : mettre en vert la nouvelle ligne
              newTr.className = "newTr";
            }
            function  createh2(){
                var myh2 = document.createElement("h2");
                myh2.align="center";
                var textH2 = document.createTextNode("Section : creation des elements du DOM");
                myh2.appendChild(textH2);
                var mydiv=document.getElementById("myDiv");
                mydiv.appendChild(myh2);
            }
            function modifRow(){

              var index =document.getElementById("idCours").value;
              var titre =document.getElementById("nomCours").value;
              var vh =document.getElementById("vhCours").value;

              var num = "#tr"+index+" td";

              var selectedRox = "#tr"+index;
              var myRow = document.querySelector(selectedRox);
              tableau =  document.querySelectorAll(num);
              tableau[1].innerHTML = titre;
              tableau[2].innerHTML = vh;
              myRow.className = "modif";


              document.getElementById("idCours").value="";
              document.getElementById("nomCours").value="";
              document.getElementById("vhCours").value="";

              /*var newVh=  document.myTab.myform.vhCours.value;

              //var elem = document.getElementById(index);
              tableau =  elem.querySelectorAll("# "+index+" td");
              alert(tableau[0].textContent);
              alert(tableau[1].textContent);*/
            }
        </script>
    </body>
</html>